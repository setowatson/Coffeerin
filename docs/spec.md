Thought for 1 second### コーヒー手帳アプリ 要件定義書

## 1. プロジェクト概要

### 1.1 目的

コーヒー愛好家が飲んだコーヒーを詳細に記録し、分析し、他のユーザーと共有できるソーシャルプラットフォームを提供する。

### 1.2 対象ユーザー

- コーヒー愛好家
- カフェ巡りが好きな人
- バリスタ
- コーヒー関連の専門家


### 1.3 主要機能概要

- コーヒー記録の作成・閲覧・編集
- 詳細な味わい評価システム
- タグ付け機能
- 統計分析
- ソーシャル機能（いいね、コメント、フォロー）
- 位置情報連携


## 2. 機能要件

### 2.1 ユーザー管理

#### 2.1.1 ユーザープロフィール

- ユーザー名、表示名の設定
- プロフィール画像のアップロード
- 自己紹介文の設定
- フォロー中/フォロワー数の表示
- 投稿数の表示


#### 2.1.2 フォロー機能

- 他ユーザーのフォロー/フォロー解除
- フォロー中ユーザー一覧の表示
- フォロワー一覧の表示


### 2.2 コーヒー記録機能

#### 2.2.1 基本情報記録

- コーヒー名/豆の種類（必須）
- コーヒータイプの選択（必須）

- シングルオリジン
- ブレンド
- エスプレッソ
- カフェインレス
- その他



- 淹れ方の選択（必須）

- ドリップ
- フレンチプレス
- エアロプレス
- エスプレッソマシン
- ハンドドリップ
- 水出し
- サイフォン
- その他



- 焙煎度の選択（必須）

- ライトロースト
- ミディアムライトロースト
- ミディアムロースト
- ミディアムダークロースト
- ダークロースト



- 飲んだ日付（必須、デフォルトは当日）
- コメント（任意、最大500文字）


#### 2.2.2 評価システム

- 総合評価（1-5の星評価、必須）
- 味わいプロファイル評価（各項目1-5のスライダー評価）

- 酸味
- 甘み
- 苦味
- コク





#### 2.2.3 画像管理

- 画像のアップロード（任意、最大5枚）
- 画像のプレビュー表示
- 画像の削除


#### 2.2.4 タグ付け

- 自由入力形式のタグ追加（最大10個）
- タグの削除
- タグの表示


#### 2.2.5 位置情報

- Google Maps APIを使用した店舗検索
- 店舗名の自動補完
- 位置情報の保存（店舗名、場所ID）
- 地図上での表示


### 2.3 タイムライン機能

#### 2.3.1 投稿表示

- 自分とフォロー中ユーザーの投稿を時系列で表示
- 投稿者情報（ユーザー名、アバター）の表示
- 投稿内容（コーヒー名、評価、画像など）の表示
- 投稿日時の表示
- 位置情報の表示


#### 2.3.2 投稿詳細

- 詳細情報の折りたたみ表示

- コーヒータイプ
- 淹れ方
- 焙煎度
- 味わいプロファイル（レーダーチャート）
- 地図表示





#### 2.3.3 インタラクション

- いいね機能
- いいね数の表示
- コメント機能
- コメント一覧表示
- コメント追加
- お気に入り（ブックマーク）機能


### 2.4 検索機能

#### 2.4.1 検索カテゴリ

- コーヒー名検索
- 場所検索
- タグ検索
- ユーザー検索


#### 2.4.2 検索結果表示

- グリッド表示（画像中心）
- 検索結果数の表示
- 関連する投稿の表示


#### 2.4.3 タグ検索

- 人気タグの表示
- タグをクリックして検索実行
- タグに関連する投稿の表示


### 2.5 統計機能

#### 2.5.1 期間設定

- すべての期間
- 今月
- 過去3ヶ月
- 過去6ヶ月


#### 2.5.2 基本統計

- 総記録数
- 平均評価


#### 2.5.3 詳細統計

- コーヒータイプ別の集計（グラフ表示）
- 淹れ方別の集計（グラフ表示）
- よく使うタグ（上位5件）
- 平均味わいプロファイル（グラフ表示）
- 最近のコーヒー記録（最新5件）


### 2.6 通知機能

#### 2.6.1 通知タイプ

- いいね通知
- コメント通知
- フォロー通知


#### 2.6.2 通知表示

- 通知一覧の表示
- 通知時間の表示
- 関連投稿へのリンク


## 3. 非機能要件

### 3.1 ユーザーインターフェース

#### 3.1.1 全体デザイン

- インスタグラムに似たモバイルファーストのUI
- レスポンシブデザイン（スマートフォン、タブレット、デスクトップ対応）
- ライト/ダークモード対応


#### 3.1.2 ナビゲーション

- 下部ナビゲーションバー（モバイル向け）

- ホーム（タイムライン）
- 検索
- 投稿追加
- 通知
- 統計
- プロフィール





#### 3.1.3 カラースキーム

- 基本カラー：白/黒
- アクセントカラー：アンバー（コーヒーをイメージ）
- テキストカラー：黒/グレー


### 3.2 パフォーマンス要件

- ページ読み込み時間：3秒以内
- 画像最適化：自動リサイズ、圧縮
- オフライン対応：基本機能の利用可能


### 3.3 セキュリティ要件

- ユーザー認証：メール/パスワード、Googleアカウント（Gmail）ログイン
- データ暗号化：HTTPS通信
- プライバシー設定：公開/非公開アカウント設定


## 4. データモデル

### 4.1 ユーザーモデル

```plaintext
User {
  id: string
  name: string
  username: string
  avatar: string
  bio?: string
  followersCount: number
  followingCount: number
  isFollowing: boolean
}
```

### 4.2 コーヒー記録モデル

```plaintext
CoffeeEntry {
  id: string
  user: User
  name: string
  coffeeType?: string
  brewMethod?: string
  roastLevel?: string
  location: string
  placeId?: string
  rating: number
  tasteProfile?: {
    acidity: number
    sweetness: number
    bitterness: number
    body: number
  }
  tags?: string[]
  date: string
  comment?: string
  image?: string
  isFavorite: boolean
  likes: number
  hasLiked: boolean
  comments: Comment[]
}
```

### 4.3 コメントモデル

```plaintext
Comment {
  id: string
  user: User
  text: string
  timestamp: string
}
```

### 4.4 通知モデル

```plaintext
Notification {
  id: string
  type: "like" | "comment" | "follow"
  user: User
  content: string
  time: string
  image?: string
}
```

## 5. 画面仕様

### 5.1 タイムライン画面

- ヘッダー：アプリ名表示
- 投稿リスト：スクロール可能
- 各投稿：

- ユーザー情報
- 位置情報
- 画像
- アクション（いいね、コメント、シェア、ブックマーク）
- いいね数
- コーヒー名と評価
- コメント
- 投稿日時
- 詳細表示ボタン
- コメント入力欄





### 5.2 投稿作成画面

- 画像アップロード領域
- フォーム：

- コーヒー情報セクション

- コーヒー名入力
- コーヒータイプ選択
- 淹れ方選択
- 焙煎度選択



- 場所情報セクション

- 場所検索入力
- 候補表示



- 評価セクション

- 総合評価（星評価）
- 味わいプロファイル（スライダー）



- タグセクション

- タグ入力
- タグ表示



- 日付選択
- コメント入力
- 投稿ボタン





### 5.3 検索画面

- 検索入力欄
- タブ切り替え：

- コーヒー
- 場所
- タグ
- ユーザー



- 検索結果表示：

- グリッド表示（画像）
- リスト表示（詳細情報）



- 人気タグ表示（タグ検索時）


### 5.4 統計画面

- 期間選択ドロップダウン
- 基本統計カード：

- 総記録数
- 平均評価



- タブ切り替え：

- 種類別統計
- 淹れ方別統計
- タグ・味わい統計



- グラフ表示
- 最近のコーヒーリスト


### 5.5 プロフィール画面

- ユーザー情報ヘッダー：

- アバター
- ユーザー名
- 投稿数/フォロワー数/フォロー中数
- 自己紹介
- プロフィール編集ボタン



- タブ切り替え：

- 投稿
- 保存済み



- 表示切り替え：

- グリッド表示
- リスト表示



- 投稿一覧


### 5.6 通知画面

- 通知リスト：

- 通知タイプアイコン
- ユーザーアバター
- 通知内容
- 通知時間
- 関連画像（ある場合）





## 6. 外部連携

### 6.1 Google Maps API連携

- 店舗検索機能
- 地図表示機能
- 位置情報の保存


### 6.2 画像ストレージ連携

- 画像のアップロード
- 画像の最適化
- 画像の取得


## 7. 将来拡張機能

### 7.1 コーヒー豆情報データベース

- 一般的なコーヒー豆の情報を提供
- 産地、特徴、推奨の淹れ方などの情報


### 7.2 バリスタ認証機能

- プロのバリスタを認証
- 専門家のアドバイス機能


### 7.3 コーヒーショップ連携

- 特定のコーヒーショップとの公式連携
- メニュー情報の自動取得
- 特典やクーポンの提供


### 7.4 コーヒー器具管理

- 使用している器具の登録
- 器具ごとの記録フィルタリング


### 7.5 AIレコメンデーション

- 過去の好みに基づいたコーヒー推薦
- 似た味わいのコーヒーの提案


## 8. 技術スタック

### 8.1 フロントエンド

- Next.js（React）
- TypeScript
- Tailwind CSS
- shadcn/ui コンポーネント
- Vercel（デプロイメント・ホスティング）


### 8.2 バックエンド

- Supabase
  - PostgreSQL（データベース）
  - Authentication（認証）
  - Storage（画像ストレージ）
  - Realtime（リアルタイム機能）
  - Edge Functions（サーバーレス関数）


### 8.3 外部サービス

- Google Maps Platform（位置情報サービス）
- 画像ストレージサービス


## 9. 開発・運用計画

### 9.1 開発フェーズ

1. 基本機能開発（コーヒー記録、タイムライン）
2. ソーシャル機能開発（いいね、コメント、フォロー）
3. 検索・統計機能開発
4. 外部API連携（Google Maps）
5. UI/UX改善


### 9.2 テスト計画

- ユニットテスト
- 統合テスト
- ユーザビリティテスト
- パフォーマンステスト


### 9.3 リリース計画

- ベータ版リリース
- フィードバック収集
- 正式版リリース
- 定期的な機能アップデート